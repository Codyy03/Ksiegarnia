<Window x:Class="Ksiegarnia.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainWindow" Height="850" Width="1100"
        WindowStartupLocation="Manual">
    <!-- ScrollViewer opakowujący całą zawartość -->
    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
        <Grid Margin="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <!-- Powitanie i wyszukiwarka -->
                <RowDefinition Height="Auto" />
                <!-- Obszar nagłówkowy / reklama -->
                <RowDefinition Height="*" />
                <!-- Nagłówek i losowe książki -->
            </Grid.RowDefinitions>

            <!-- Row 0: Powitanie i wyszukiwarka -->
            <StackPanel Grid.Row="0"
                  VerticalAlignment="Top"
                  HorizontalAlignment="Center"
                  Margin="0,20,0,0"
                  Width="980"      
                MinWidth="980">
                <!-- minimalna szerokość, aby nie kurczyła się -->
                <TextBlock Text="Witaj, Jan!" 
                   Style="{StaticResource HeaderTextStyle}" 
                   HorizontalAlignment="Center" 
                   Margin="10,20,10,22" 
                   FontFamily="Britannic Bold" 
                   VerticalAlignment="Center" 
                   FontSize="30" />
                <TextBlock Text="Wyszukaj książkę..." 
                   Style="{StaticResource PlaceholderTextStyle}" 
                   HorizontalAlignment="Left" 
                   Margin="100,0,0,5" />
                <!-- Ustawienie MinWidth zapewnia, że wyszukiwarka się nie skurczy poniżej ustalonej wartości -->
                <TextBox x:Name="SearchBox"
                 Style="{StaticResource SearchBoxStyle}"
                 TextChanged="SearchBox_TextChanged"
                              
                    MinWidth="400"/>
            </StackPanel>

            <!-- Row 1: Obszar nagłówkowy (reklama i ukryta lista) -->
            <Grid Grid.Row="1">
                <Image x:Name="AdvertisementImage" 
               Source="C:\Users\sebas\Desktop\Ksiegarnia\reklama.png"
               Stretch="Fill"
               HorizontalAlignment="Center"
               Width="600"
               Height="250"
               Margin="0,25,0,0" />
                <ListView x:Name="BooksList"
                  Visibility="Hidden"
                  Style="{StaticResource BooksListViewStyle}"
                  SelectionChanged="BooksList_SelectionChanged">
                    <ListView.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel HorizontalAlignment="Center" />
                        </ItemsPanelTemplate>
                    </ListView.ItemsPanel>
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <Border Style="{StaticResource BookItemStyle}">
                                <StackPanel HorizontalAlignment="Center">
                                    <TextBlock Text="{Binding Title}" 
                             Style="{StaticResource BookTitleStyle}" />
                                    <Image Source="{Binding CoverPath}" 
                         Width="150" Height="200" 
                         Stretch="Uniform" Margin="5" />
                                    <TextBlock Text="{Binding Author.FullName}" 
                             Style="{StaticResource AuthorTextStyle}" />
                                </StackPanel>
                            </Border>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </Grid>

            <!-- Row 2: Nagłówek i losowe książki -->
            <Grid Grid.Row="2" Margin="10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <TextBlock Text="Zobacz wybrane produkty" 
                   Style="{StaticResource HeaderTextStyle}" 
                   Grid.Row="0" />
                <ListView x:Name="RandomBooks"
                  Grid.Row="1"
                  Style="{StaticResource BooksListViewStyle}" SelectionChanged="RandomBooks_SelectionChanged">
                    <ListView.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel HorizontalAlignment="Center" />
                        </ItemsPanelTemplate>
                    </ListView.ItemsPanel>
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <Border Style="{StaticResource BookItemStyle}">
                                <StackPanel HorizontalAlignment="Center">
                                    <TextBlock Text="{Binding Title}" 
                             Style="{StaticResource BookTitleStyle}" />
                                    <Image Source="{Binding CoverPath}" 
                         Width="150" Height="200" 
                         Stretch="Uniform" Margin="5" />
                                    <TextBlock Text="{Binding Author.FullName}" 
                             Style="{StaticResource AuthorTextStyle}" />
                                </StackPanel>
                            </Border>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </Grid>
        </Grid>
    </ScrollViewer>
</Window>
