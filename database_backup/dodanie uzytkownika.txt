-- Tworzenie administratora z pełnymi uprawnieniami
CREATE ROLE admin_user WITH LOGIN PASSWORD 'adminpassword';
ALTER ROLE admin_user SUPERUSER CREATEDB CREATEROLE;

-- Tworzenie użytkownika z ograniczonymi uprawnieniami
CREATE ROLE jan WITH LOGIN PASSWORD 'haslo123';

-- Administrator ma pełne uprawnienia do bazy ksiegarnia
GRANT ALL PRIVILEGES ON DATABASE "Ksiegarnia" TO admin_user;

-- Użytkownik otrzymuje dostęp do bazy
GRANT CONNECT ON DATABASE "Ksiegarnia" TO jan;


-- Pozwalamy użytkownikowi czytać i dodawać dane do wszystkich tabel w schemacie public
GRANT SELECT, INSERT ON ALL TABLES IN SCHEMA public TO jan;

-- Jeśli chcesz, aby użytkownik automatycznie otrzymywał uprawnienia do nowych tabel:
ALTER DEFAULT PRIVILEGES IN SCHEMA public
GRANT SELECT, INSERT ON TABLES TO jan;

